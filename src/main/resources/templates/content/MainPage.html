<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <title>Document</title>
    </head>
    <body>
        <h2>게시판</h2>
        <div id=content>
            <button id="ajaxButton" >검색</button>
            <table id=container style="border: 1px solid;">
                <thead>
                    <th>did</th>
                    <th>name</th>
                    <th>alc</th>
                    <th>price</th>
                    <th>address</th>
                    <th>throat</th>
                    <th>cool</th>
                    <th>sour</th>
                    <th>body</th>
                    <th>insense</th>
                    <th>balance</th>
                    <th>sweet</th>
                </thead>
                <tbody id="productTbody">
                    <tr th:each="item: ${list}">
                        <td th:text="${item.did}">1</td>
                        <td th:text="${item.name}">2</td>
                        <td th:text="${item.alc}"></td>
                        <td th:text="${item.price}"></td>
                        <td th:text="${item.address}"></td>
                        <td th:text="${item.throat}"></td>
                        <td th:text="${item.cool}"></td>
                        <td th:text="${item.sour}"></td>
                        <td th:text="${item.body}"></td>
                        <td th:text="${item.insense}"></td>
                        <td th:text="${item.balance}"></td>
                        <td th:text="${item.sweet}"></td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <script>
            let list = [];
            $(content).ready(function () {
                // 버튼 클릭 시 Ajax 요청 보내기
                $("#ajaxButton").click(function () {
                    $.ajax({
                        type: "GET",
                        url: "/all",
                        success: function (response) {
                            list = response;
                            console.log(list);
                        },
                        error: function () {
                            alert("Ajax 요청 실패!");
                        }
                    });
                });
            });
    </script>
    </body>
</html>